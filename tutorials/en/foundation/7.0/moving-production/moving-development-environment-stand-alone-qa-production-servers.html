---
layout: tutorial
title: Moving from development environment to stand-alone QA and production servers
relevantTo: [ios,android,windowsphone8,windows8,hybrid]
weight: 1
---
<br>
<p>This tutorial covers the following topics:</p>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#mfpProject">The MobileFirst project</a></li>
<li><a href="#installServer">Installing MobileFirst Server</a></li>
<li><a href="#deployApp">Deploying applications and adapters</a></li>
<li><a href="#prepApp">Preparing the application for deployment</a></li>
<li><a href="#clusterEnv">Cluster environments</a></li>
</ul>
<h2 id="overview">Overview</h2>
<p>To develop with IBM MobileFirst Platform Foundation, you use MobileFirst Studio or CLI. MobileFirst Studio and CLI contain an internal MobileFirst Server.<br />
When you move to production, you need an external MobileFirst Server, also called <em>remote MobileFirst Server</em>.</p>
<p>This tutorial is intended for use with MobileFirst Server, which is available for purchase from IBM.</p>
<p>A MobileFirst project contains various components, such as applications, adapters, configuration files, custom Java code, and libraries.<br />
During the development stages, all these components are deployed to the local development server that is bundled within MobileFirst Studio and CLI. The deployment of the components to the local development server is automated by MobileFirst Studio and CLI.</p>
<p>Each customer environment (for example, development, QA, preproduction, production) has its own unique and specific settings. For example, the locations of back-end services, public URLs, database connectivity parameters, and logging settings.</p>
<p>Eventually, you must transfer these settings and components to the remote MobileFirst Server.<br />
This tutorial explains how to package MobileFirst components and deploy them to a remote server.</p>
<h2 id="mfpProject">The MobileFirst project</h2>
<p>The following diagram depicts a MobileFirst project. A MobileFirst project can contain applications, adapters, custom Java code, and server- or client- related configuration files.</p>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_mobilefirst_project.jpg"/></p>
<ul>
<li>The custom Java code is added to the <code>\server\java</code> folder.</li>
<li>The custom libraries are added to the <code>\server\lib</code> folder.</li>
<li>The server configuration files are in the <code>server\conf</code> folder.</li>
<li>The client configuration files are in the <code>apps\<em>your-app</em></code> folder.</li>
</ul>
<p>During a build operation in MobileFirst Studio or CLI, the MobileFirst project is packaged into a web archive (WAR) file.<br />
All the files that are mentioned above are compiled to the <code><em>project-name</em>.war</code> file in the <code>\bin</code> folder of the project.</p>
<p>The only exceptions are apps and adapters, which are not part of the WAR file. These separate entities are generated by MobileFirst Studio and CLI.</p>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_project_war.jpg"/></p>
<h2 id="installServer">Installing MobileFirst Server</h2>
<p>IBM MobileFirst Platform Foundation is compatible with the following application servers:</p>
<ul>
<li>WebSphere Application Server full profile</li>
<li>WebSphere Application Server Liberty profile</li>
<li>Apache Tomcat</li>
</ul>
<p>You can install MobileFirst Server in three steps:</p>
<ol>
<li>Using the IBM Installation Manager, extract MobileFirst Server files to the file system.
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation1.jpg"/></p>
<blockquote><p>For additional information, see the topic about installing MobileFirst Server, in the user documentation.</p></blockquote>
</li>
<li>From IBM Installation Manager, use the Server Configuration Tool to create and run an Ant script that:
<ul>
<li>Creates the necessary MobileFirst Administration database schema.</li>
<li>Deploys the MobileFirst Administration web applications to the application server.</li>
</ul>
<blockquote><p>For more information, see the tutorial for a basic installation of MobileFirst Server, in the user documentation.</p></blockquote>
<h4>Creates the necessary MobileFirst Administration database schema</h4>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation2-1.jpg"/></p>
<h4>Deploys the MobileFirst Administration web applications to the application server</h4>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation2-2.jpg"/></p>
</li>
<blockquote><p>For more information, see the topic about installing MobileFirst Server, in the user documentation.</p></blockquote>
<p> Multiple MobileFirst project files can coexist on an application server. Each is deployed as a WAR file. Each is configured to communicate with a different schema in the database.</p>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation3.jpg"/></p>
<li>Edit the application server configuration file with additional MobileFirst properties.
{% highlight xml  %}
<configureapplicationserver shortcutsDir="${shortcuts.dir}">
    <project warfile="${worklight.project.war.file}"/>
    <!-- Specify some JNDI properties. -->
    <property name="publicWorkLightHostname" value="my.company.name"/>
    <property name="publicWorkLightPort" value="80"/>
    <property name="publicWorkLightProtocol" value="HTTP"/>
    <property name="serverSessionTimeout" value="10"/>
    <applicationserver>
{% endhighlight %}

</li>
</ol>
<h2 id="deployApp">Deploying applications and adapters</h2>
<p>After you deploy the WAR file to the application server, you can start the application server.<br />
Now the MobileFirst Console can be loaded, at <code>http://host:port/worklightconsole</code>. The console is used to deploy applications and adapters.<br />
You can also use the MobileFirst Command Line Interface (CLI) to manage these tasks.</p>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_deploy_apps_and_adapters.jpg"/></p>
<blockquote><p>For more information, see the IBM MobileFirst Platform Foundation user documentation.</p></blockquote>
<h3>Process review</h3>
<p>The previously-described process consists of three main steps:</p>
<ol>
<li>Application server preparation:
<ol>
<li>Use IBM Installation Manager to extract the installation files.</li>
<li>Use an Ant script created through the Server Configuration Tool to create and deploy MobileFirst Administration web app and database schemas.</li>
<li>Use an Ant script created through the Server Configuration Tool to prepare the database, copy MobileFirst files, and deploy the MobileFirst project <code>.war</code> file.</li>
</ol>
</li>
<li>Prepare the application for deployment:
<ul>
<li>Build the application</li>
</ul>
</li>
<li>Deploy the application and adapter files:
<ul>
<li>Deploy applications and adapters by using the MobileFirst Operations Console.</li>
</ul>
</li>
</ol>
<h2 id="prepApp">Preparing the application for deployment</h2>
<h3>Settings</h3>
<ul>
<li>The <code>application-descriptor.xml</code> file contains all the application-specific information and settings. These include:
<ul>
<li>WorklightSettings - A settings page that controls the server URL. This feature is for development only and should be set to disabled when moving to production.</li>
<li>Push notifications - Settings related to the setup of push notification</li>
<li>Security - App authenticity, web resources encryption, web resources checksum</li>
</ul>
</li>
<li>The <code>build-settings.xml</code> file enables you to minify and/or concatenate application files (allowing for reduced network traffic and application file size). This feature is available for the following environments: Android, iOS, Windows 8, Windows Phone 8, BlackBerry 10, Mobile Web, and Desktop Browser.<br />
<blockquote><p>
For more information on <code>build-settings.xml</code>, see the topic about optimizing MobileFirst applications, in the user documentation.
</p></blockquote>
</li>
</ul>
<h3>Preparing the application</h3>
<p><strong>Important:</strong> Make sure that the application that you prepare for deployment will point to the QA/preproduction/production server, so that it can connect to MobileFirst Server.</p>
<h3>CLI</h3>
<p>Navigating to the native folder and edit either the <code>wlclient.properties</code> or <code>worklight.plist</code> file with the appropriate server definition.</p>
<h3>Studio</h3>
<ol>
<li>In MobileFirst Studio, right-click the application folder.</li>
<li>Click <strong>Run As > Build Settings and Deploy Target</strong>.</li>
<li>Select the <strong>Build the application to work with a different MobileFirst Server</strong> check box.</li>
<li>Enter the <strong>Server</strong> and <strong>Context path</strong> values.</li>
</ol>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_contextroot.png"/></p>
<h2 id="clusterEnv">Cluster environments</h2>
<p>You can set up several instances of MobileFirst Server in a cluster environment that shares a database.</p>
<p>When a <code>.wlapp</code> or <code>.adapter</code> file is deployed on one of the servers in a cluster, it is automatically synchronized with the other servers.<br />
When an application or an adapter is deleted from one of the servers in a cluster, it is automatically deleted from the other servers, too.</p>
<p>A WAR file, however, is a part of the application server customization. It must therefore be deployed to each server in the cluster. With WebSphere Application Server full profile, you can specify the cluster when the Ant task is called. Otherwise, call the Ant task once for each server in the cluster.</p>
<blockquote><p>For additional server topologies and information, see the topic about installing MobileFirst Server, in the user documentation.</p></blockquote>
