---
layout: tutorial
title: Broadcast notifications in native Android applications
relevantTo: [android]
downloads:
  - name: Download Studio project
    url: http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v700/TagBasedPushNotificationsProject.zip
  - name: Download native project
    url: http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v700/AndroidNativeTagNotificationsProject.zip
---
<h2>Overview</h2>
Broadcast notification are in fact tag-based notification, where a subscription to a reserved tag, <code>Push.ALL</code>, is auto-created for every device. Broadcast notifications are thus notification messages that are targeted to all subscribed devices.

Broadcast notifications are enabled by default for any push-enabled MobileFirst application.
This ability can be disabled by unsubscribing the device from the reserved <code>Push.ALL</code> tag.

<blockquote>For more information about broadcast notification, see the topics about broadcast notification topic in the user documentation.</blockquote>

<h2>Common API methods for tag-based and broadcast notifications</h2>
<h4>Client-side API:</h4>

<ul>
    <li><code>WLNotificationListener</code>
    Defines the callback method to be notified when the notification arrives.</li>

    <li><code>client.getPush().setWLNotificationListener(listener)</code>
    This method sets the implementation class of the <code>WLNotificationListener</code> interface.</li>

    <li>The <code>onMessage(props,payload)</code> method of <code>WLNotificationListener</code> is called when a push notification is received by the device.

    <ul>
        <li><strong>props</strong> - A JSON block that contains the notifications properties of the platform.</li>
        <li><strong>payload</strong> - A JSON block that contains other data that is sent from MobileFirst Server. The JSON  block also contains the tag name for tag-based or broadcast notification. The tag name appears in the "tag" element. For broadcast notification, the default tag name is <code>Push.ALL</code>.</li>
    </ul>
</li></ul>

<h4>Server-side API:</h4>
This method submits a notification that is based on the specified target parameters.
<ul>
    <li><code>WL.Server.sendMessage(applicationId,notificationOptions)</code>
        <ul>
            <li><strong>applicationId</strong>&nbsp;- (mandatory) The name of the MobileFirst application</li>
            <li><strong>notificationOptions</strong>&nbsp;- (mandatory) A JSON block containing message properties</li>
        </ul>
    </li>
</ul>

<blockquote>For a full list of message properties, refer to the <code>WL.Server.sendMessage</code> API in the API reference of the user documentation.</blockquote>

<h2>Sample application</h2>
Before running the application, check the adapter's <code>PushAdapter-impl.js</code> file and verify that the <code>WL.Server.sendMessage()</code> method  use the correct application name. The correct application name can be determined from the <code>id</code> attribute in <code>application-descriptor.xml</code>.

<a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v700/PushNotificationsNativeProject.zip">Click to download</a> the Studio project.
<a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v700/AndroidNativePushProject.zip">Click to download</a> the Native project.
