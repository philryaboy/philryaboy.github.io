---
layout: tutorial
title: Creating your first native Android MobileFirst application
relevantTo: [android]
weight: 3
---
<h2>Overview</h2>
<p>To serve a native Android application, MobileFirst Server must be aware of it. For this purpose, IBM MobileFirst Platform Foundation provides a Native API library, which contains a set of APIs and configuration files.</p>
<p>This tutorial explains how to generate the Android Native API and how to integrate it with a native Android application. These steps are necessary so that you can use it later on to achieve tasks such as connecting to MobileFirst Server, invoking adapter procedures, implementing authentication methods, and so on.</p>
<p><strong>Prerequisite</strong>: Developers must be proficient with using Google's developer tools.</p>
<p>This tutorial covers the following topics:</p>
<ul>
</ul>
<ul>
<li><a href="#nativeAPI">Creating a MobileFirst native API</a></li>
<li><a href="#wlClientProp">The wlclient.properties file</a></li>
<li><a href="#configAndroidApp">Creating and configuring an Android native application</a></li>
<li><a href="#next">Tutorials to follow next</a></li>
</ul>
<h2 id="nativeAPI">Creating a MobileFirst native API</h2>
<h3>CLI</h3>
<ol>
<li>In the terminal with the <a href="../../advanced-client-side-development/using-cli-create-build-manage-project-artifacts/" title="Updated: Using CLI to create, build, and manage MobileFirst project artifacts">CLI</a> installed, create a new MobileFirst project using: <code>$ mfp create HelloWorldNative</code>.</li>
<li>Go to the newly created project directory: <code>$ cd HelloWorldNative/</code>.</li>
<li>Add a new Android native API using <code>$ mfp add api AndroidHelloWorld -e android</code>.</li>
<li>Build and deploy the application using <code>$ mfp bd</code>. <em>This action is required for MobileFirst Server to recognize the application if it attempts to connect.</em></li>
</ol>
<h3>Studio</h3>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/02_03_android_native_folder_structure-7-0.png" style="float:right;width: 25%"/></p>
<ol>
<li>In MobileFirst Studio, create a MobileFirst project and add a MobileFirst Native API.</li>
<li>In the <strong>New MobileFirst Native API</strong> dialog, enter your application name and select <strong>Android</strong> for the <strong>Environment</strong> field.</li>
<li>Right-click the generated NativeAPI folder (located in <code><em>your-projects</em>/apps/<em>your-nativeapi-app-name</em></code>) and select <strong>Run As > Deploy Native API</strong>.<br />
<em><strong>Note:</strong> This action is required for MobileFirst Server to recognize the application when a request reaches the server.</em></li>
</ol>
<p>The MobileFirst native API contains the following components:</p>
<ul>
<li>The <code>wlclient.properties</code> file contains the connectivity settings that a native Android application uses.</li>
<li>The <code>worklight-android.jar</code> file is the MobileFirst API library.</li>
<li>The <code>push.png</code> file is used for displaying an image for an incoming push notification.</li>
<li>The <code>proguard-project.txt</code> file contains configuration settings for using Android ProGuard with Android Native API.</li>
<li>The <code>JSONStore</code> folder is for optional JSONStore support in native applications.</li>
<li>The <code>armabi</code>, <code>armabi-v7a</code>, <code>mips</code>, and <code>x86</code> folders are for optional Application Authenticity Protection in native applications.</li>
<li>As with any MobileFirst project, you create the server configuration by modifying the files that are in the <code>server\conf</code> folder.</li>
<li>You use the <code>application-descriptor.xml</code> file to define application metadata and to configure security settings that MobileFirst Server enforces.</li>
</ul>
<h2 id="wlClientProp">The wlclient.properties file</h2>
<p>The <code>wlclient.properties</code> file holds server configuration properties and is user-editable.</p>
<ul>
<li><code>wlServerProtocol</code> – The communication protocol to MobileFirst Server, which can be either <code>http</code> or <code>https</code>.</li>
<li><code>wlServerHost</code> – The hostname of MobileFirst Server.</li>
<li><code>wlServerPort</code>  – The port of MobileFirst Server.</li>
<li><code>wlServerContext</code> – The context root path of the application on MobileFirst Server.</li>
<li><code>wlAppId</code> – The application ID as defined in the <code>application-descriptor.xml</code> file.</li>
<li><code>wlAppVersion</code> – The application version.</li>
<li><code>wlEnvironment</code> – The target environment of the native application.</li>
<li><code>wlUid</code> – The property used by MTWW, the text workbench, to identify this as a MobileFirst application.</li>
<li><code>wlPlatformVersion</code> – The MobileFirst SDK version.</li>
<li><code>languagePreferences</code> – The list of preferred locales.</li>
<li><code>GcmSenderId</code>  – This property defines the Google Cloud Message (GCM) Sender ID to be used for push notifications. By default, this property is commented out.</li>
</ul>
<h2 id="configAndroidApp">Creating and configuring an Android native application</h2>
<ol>
<li>Create a native Android application or use an existing one.</li>
<li>Copy the <code>worklight-android.jar</code>, <code>uicandroid.jar</code>, <code>bcprov.jar</code>, and <code>android-async-http.jar</code> files from the generated NativeAPI folder to the new native Android application, in the <code>/libs</code> directory.</li>
<li>Copy the <code>wlclient.properties</code> file from the MobileFirst native API folder to the new native Android application, in the <code>/assets</code> directory.</li>
<li>Add the following permissions to the <code>AndroidManifest.xml</code> file:
<p>{% highlight xml  %} <uses-permission android:name="android.permission.INTERNET"/><br />
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/> {% endhighlight %} </p>
</li>
<li>Add the MobileFirst UI activity:
<p>{% highlight xml  %} <activity android:name="com.worklight.wlclient.ui.UIActivity" /> {% endhighlight %} </p>
</li>
</ol>
<blockquote><p>For more information, see the topic about developing native applications for Android, in the user documentation.</p></blockquote>
<p><br clear="all" /></p>
<h2 id="next">Tutorials to follow next</h2>
<p>Now that your application contains the Native API library, you can follow the tutorials in the <a href="../../android-tutorials/">Native Android Development</a> section to learn more about authentication and security, server-side development, advanced client-side development, notifications and more.</p>
