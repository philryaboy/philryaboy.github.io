---
layout: tutorial
title: Moving from development environment to stand-alone QA and production servers
relevantTo: [ios,android,windowsphone8,hybrid]
---
<h2>Overview</h2>
<p>To develop with IBM MobileFirst Platform Foundation, MobileFirst Studio is used. MobileFirst Studio contains an internal MobileFirst Server.<br />
When moving to production, an external MobileFirst Server is required.</p>

<p>This tutorial is intended for use with a MobileFirst Server, which is available for purchase from IBM.</p>

<p>A MobileFirst project contains various components, such as applications, adapters, configuration files, custom Java code and libraries.<br />
During the development stages, all of these components are deployed to the local development server that is bundled within MobileFirst Studio. The deployment of the components to the local development server is automated by MobileFirst Studio.</p>

<p>Each customer environment (for example, development, QA, pre-production, production) has its own unique and specific settings. For example, the locations of back-end services, public URLs, database connectivity parameters, and logging settings.</p>

<p>Eventually, you must transfer these settings and components to the remote MobileFirst Server.<br />
This tutorial explains to the developer how to package MobileFirst components and deploy them to a remote server.</p>

<h2>The MobileFirst project</h2>
<p>The following diagram depicts a MobileFirst project. A MobileFirst project can contain applications, adapters, custom Java code and server - or client- related configuration files.</p>

<p><img src="{{ site.baseurl }}/assets/backup/11_01_mobilefirst_project.png" alt="11_01_mobilefirst_project" width="679" height="229" class="aligncenter size-full wp-image-1657" /></p>

<ul>
    <li>The custom Java code is added to the \server\java folder</li>
    <li>The custom libraries are added to the \server\lib folder</li>
    <li>The server configuration files are in the server\conf folder</li>
    <li>The client configuration files are in the apps\your-app folder</li>
</ul>

<p>During a build operation in MobileFirst Studio, the MobileFirst project is packaged into a web archive (WAR) file.<br />
All of the files that are mentioned above are compiled to the project-name.war file in the \bin folder of the project.</p>

<p>The only exceptions are apps and adapters, which are not part of the WAR file. These separate entities are generated by MobileFirst Studio.</p>

<p><img src="{{ site.baseurl }}/assets/backup/11_01_project_war.png" alt="11_01_project_war" width="667" height="230" class="aligncenter size-full wp-image-1658" /></p>

<h2>Installing MobileFirst Server</h2>
<p>IBM MobileFirst Platform Foundation is compatible with the following application servers:</p>

<ul>
    <li>WebSphere Application Server full profile</li>
    <li>WebSphere Application Server Liberty profile</li>
    <li>Apache Tomcat</li>
</ul>

<p>You can install the MobileFirst Server in three steps:</p>

<ol>
    <li>Using the IBM Installation Manager to extract MobileFirst Server files to the file system.<br />
 <img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation1.png"  /></p>
    <blockquote><p>For additional information, review the "Installing MobileFirst Server" user documentation topic.</p></blockquote></li>
    <li>From the IBM Installation Manager, the Server Configuration Tool is used to create and run an Ant script that:
<ul>
<li>Creates the necessary MobileFirst Administration database schema</li>
<li>Deploys the MobileFirst Administration web applications to the application server</li>
</ul>
<p> For more information, see Tutorial for a basic installation of MobileFirst Server in the product documentation.</p>
<h4>Creates the necessary Administration Administration database schema</h4>
<p> <img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation2-1.png"  /></p>
<h4>Deploys the MobileFirst Administration web applications to the application server</h4>
<p> <img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation2-2.png"  /></li>
<blockquote><p>For additional information, review the "Installing MobileFirst Server" user documentation topic.</p></blockquote>
<p> Multiple MobileFirst project files can coexist on an application server. Each is deployed as a WAR file. Each is configured to communicate with a different schema in the database.</p>
<p> <img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation3.png"  /></p>
<li>The application server configuration file can be edited with additional MobileFirst properties.

{% highlight xml  %}
<configureapplicationserver shortcutsDir="${shortcuts.dir}">
    <project warfile="${worklight.project.war.file}"/>
    <!-- Specify some JNDI properties. -->
    <property name="publicWorkLightHostname" value="my.company.name"/>
    <property name="publicWorkLightPort" value="80"/>
    <property name="publicWorkLightProtocol" value="HTTP"/>
    <property name="serverSessionTimeout" value="10"/>
    <applicationserver>
{% endhighlight %}

<p> <img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_installation4-2.png"  /></li>
</ol>
<h2>Deploy applications and adapters</h2>
<p>After you deploy the WAR file to the application server, you can start the application server.<br />
Now the MobileFirst Console can be loaded, at: <code>http://host:port/worklightconsole</code>. The console is used to deploy applications and adapters.<br />
The MobileFirst command line interface can be used as well to administrate these tasks.</p>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_deploy_apps_and_adapters.png"  /></p>
<blockquote><p>For more information, see the IBM MobileFirst user documentation.</p></blockquote>
<h3>Process review</h3>
<p>The previously-described process consists of three main steps:</p>
<ol>
<li>Application server preparation:
<ul>
<li>Use IBM Installation Manager to extract installation files</li>
<li>Use an Ant script created through the Server Configuration Tool to create and deploy MobileFirst Administration web app and database schemas</li>
<li>Use an Ant script created through the Server Configuration Tool to prepare the database, copy MobileFirst files, and deploy the MobileFirst project .war file</li>
</ul>
</li>
<li>Prepare the application for deployment:
<ul>
<li>Build the application</li>
</ul>
</li>
<li>Deploy the application and adapter files:
<ul>
<li>Deploy applications and adapters by using the MobileFirst Console</li>
</ul>
</li>
</ol>
<h2>Preparing the application for deployment</h2>
<ul>
<li>The <code>application-descriptor.xml</code> file contains all the application-specific information and settings. These include:
<ul>
<li>MobileFirst settings</li>
<li>Push notifications</li>
<li>Security (app authenticity, web resources encryption, web resources checksum)</li>
</ul>
</li>
<li>The <code>build-settings.xml</code> file contains Mobile web-specific information and settings. These include:
<ul>
<li>Minification</li>
<li>Concatenation</li>
</ul>
</li>
</ul>
<h3>Preparing the application</h3>
<p>An important part of preparing an application for deployment is to make sure that it will point to the QA/preproduction/production server, so that the application can connect to MobileFirst Server.</p>
<p>Steps to follow:</p>
<ol>
<li>In MobileFirst Studio, right-click the application folder</li>
<li>Click <strong>Run As > Build Settings and Deploy Target</strong></li>
<li>Select the <strong>Build the application to work with a different MobileFirst Server</strong> check box</li>
<li>Enter the <strong>Server</strong> and <strong>Context path</strong> values</li>
</ol>
<p><img alt="missing_alt" src="{{ site.baseurl }}/assets/backup/11_01_contextroot.png"  /></p>
<h2>IBM MobileFirst Platform in a cluster environment</h2>
<p>Several instances of MobileFirst Server can be set up in a cluster environment that shares a database.</p>
<p>When a .wlapp or .adapter file is deployed on one of the servers in a cluster, it is automatically synchronized to other servers.<br />
When an application or an adapter is deleted from one of the servers in a cluster, it is automatically deleted from the other servers as well.</p>
<p>A WAR file, however, is a part of the application server customization. It must therefore be deployed to each server in the cluster. With WebSphere Application Server Full Profile, you can specify the cluster when the Ant task is called. Otherwise, call the Ant task once for each server in the cluster.</p>
<blockquote><p>For additional server topologies and information, review the "Installing MobileFirst Server" in the user documentation.</p></blockquote>
