<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		
		 <!-- Set the page titles as in old javascript doclet  -->
		
		    <title>JavaScript client-side API JavaScript Reference: Class WLAuthorizationManager</title>
		
		
		<!-- Link to the template CSS -->
		<link rel="stylesheet" type="text/css" href="ibm.css" title="Style" />
		<link rel="stylesheet" type="text/css" href="github.css" title="Style" />
	</head>

	<body>
	<script src="js/rainbow.min.js"></script>
  <script src="js/language/javascript.js"></script>
  <script src="js/language/generic.js"></script>
	
	
	<!-- ============================== header ================================= -->	
	<!-- Add a navigation bar in each class -->
	
	<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
	<div class="topBar">
	<div class="skip"><a href="#skip-navbar_top" title="Skip navigation links">Skip navigation links</a></div>
    <div class='navBar'><a href="index-all.html">Index</a>  <a href="intro.html">Overview</a></div><div class='frameNavBar'><a href="WL.SecurityUtils.html">PREV CLASS</a>  <a href="WLResourceRequest.html">NEXT CLASS</a>  <a href="index.html" target="_blank">FRAMES (opens in new window)</a></div>
	<a name="skip-navbar_top"></a>
	</div>
<hr/>
<!-- ============================== class title ============================ -->
<div class="content" role="main"/>
			<h2 class="classTitle">
				
				
				Class WLAuthorizationManager
				
			</h2>
	

   <!-- ============ CLASS INHERITANCE BEGIN ========== -->

   <!-- INHERITANCE graph  -->
   <pre>WLAuthorizationManager</pre>
  
   <!-- ============ CLASS INHERITANCE END ========== -->
	
		<hr/>
	   

		
<!-- ============================== class summary ========================== -->
				<!-- Proofread tag  -->
				
		
		<!--	<p class="description"> -->
				
				<!-- Module tag  -->
				
				<!-- ilog.undocumented.jsFile tag  -->
								
				
					 
					
						<dl class="detailList">
							<dt class="heading">JavaScript File:</dt>
							<dd>							
							<!-- Truncate windows and unix build paths -->
							wlauthorizationmanager.js
							</dd>
						</dl>
					
				
				
				
				
				
					<dl class="detailList">
						<dt class="heading">Description:</dt>
							<dd>The <code>WLAuthorizationManager</code> class is instantiated as a singleton and can be used anywhere in the application 
to obtain the client ID and authorization header. It is also called internally to handle MobileFirst OAuth-based security model protocol.
<p>
All functions of the authorization manager are asynchronous and return a promise object.
<p>
The <code>WLAuthorizationManager</code> and <code>WLResourceRequest</code> classes are supported for the following hybrid environments only: 
Android, iOS, Windows Phone 8 and Window 8.</dd>
					</dl>
				
				
				<!--  -->
				
					
					
					
					<!-- iterating-properties tag  -->
					
					<!-- index-resolution tag  -->
					
					<!-- available tag  -->
					
					<!-- opl-type tag  -->				
					
					
					<!-- Add support to global functions links -->
					
					
					<!-- @example generated Examples out of the description -->
					
					
					<!-- @note generated notes out of the description -->	
					
						
	<!--		</p> -->
			<hr />
<!-- ============================== constructor summary ==================== -->			
		  
		  <!-- ilog.undocumented.constructor tag  -->
		   
			<table class="summaryTable" cellspacing="0" summary="A summary of the constructor documented in the class WLAuthorizationManager.">
				<caption>Constructor Summary</caption>
				<thead>
					<tr>
						<th scope="col">Constructor Attributes</th>
						<th scope="col">Constructor Name and Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="attributes">&nbsp;</td>
						<td class="nameDescription" >
							<div class="fixedFont">
								<b><a href="WLAuthorizationManager.html#constructor">WLAuthorizationManager</a></b>()
							</div>
							<div class="description"></div>
						</td>
					</tr>
				</tbody>
			</table>
		
			
<!-- ============================== properties summary ===================== -->
			

<!-- ============================== methods summary ======================== -->
			
				
				
				<table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class WLAuthorizationManager.">
					 <!-- Customize global functions page  -->
					<caption>Method Summary</caption>
					<thead>
						<tr>
							<th scope="col">Method Attributes</th>
							<th scope="col">Method Name and Description</th>
						</tr>
					</thead>
					<tbody>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#clearAccessToken">clearAccessToken</a></b>(accessToken)
								</div>
								<div class="description">Clears the provided access token.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#getAuthorizationServerUrl">getAuthorizationServerUrl</a></b>()
								</div>
								<div class="description">Retrieves the URL of the authorization server.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#getResourceScope">getResourceScope</a></b>(responseHeaders)
								</div>
								<div class="description">Returns the scope of the protected resource for the provided response headers.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#isAuthorizationRequired">isAuthorizationRequired</a></b>(responseStatus, responseHeaders)
								</div>
								<div class="description">Checks whether the provided response status and headers represent a protected resource that requires authorization.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#login">login</a></b>(securityCheck, credentials)
								</div>
								<div class="description">Logs into the specified security check.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#logout">logout</a></b>(securityCheck)
								</div>
								<div class="description">Logs out of the specified security check.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#obtainAccessToken">obtainAccessToken</a></b>(scope)
								</div>
								<div class="description">Obtains an access token for the specified resource scope from the MobileFirst authorization server.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="WLAuthorizationManager.html#setAuthorizationServerUrl">setAuthorizationServerUrl</a></b>(url)
								</div>
								<div class="description">Sets the URL of the authorization server.</div>
							</td>
						</tr>
					
					</tbody>
				</table>
				
				
				
			
<!-- ============================== events summary ======================== -->
			
<!-- ============================== constructor details ==================== -->		
			
			 <!-- ilog.undocumented.constructor tag  -->
			 
			<div class="details"><a name="constructor"> </a>
				<div class="sectionTitle">
					Constructor Detail
				</div>
				<div class="method">
						WLAuthorizationManager
				</div>
				<div class="fixedFont">
						<b>WLAuthorizationManager</b>()
				</div>
				
				<div class="detailedDescription"></div>
				
					
					

			</div>
			
			
<!-- ============================== Properties details ========================== -->		
			
<!-- ============================== method details ========================= -->		
			
				 <!-- Customize global functions page  -->
					<div class='sectionTitle'>Method Detail</div>
				
					<a name="clearAccessToken"> </a>
					
					<div class="method">
						clearAccessToken
					</div>
					
					<div class="fixedFont">
					
					
					<b>clearAccessToken</b>(accessToken)
					
					</div>
					<div class="detailedDescription">
						Clears the provided access token.<br/>.
Note: When failing to access a resource with an obtained token, call the {@code clearAccessToken} method to clear the
invalid token before calling <a href="#obtainAccessToken">#obtainAccessToken</a>(String) to obtain a new access token.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{Object}</span>  
								<span class="parameters">accessToken</span>
								
								 
								 - Mandatory - Access token to clear.
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>A promise object.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="getAuthorizationServerUrl"> </a>
					
					<div class="method">
						getAuthorizationServerUrl
					</div>
					
					<div class="fixedFont">
					
					<span class="light">{, }</span>
					<b>getAuthorizationServerUrl</b>()
					
					</div>
					<div class="detailedDescription">
						Retrieves the URL of the authorization server.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>Returns the URL of the current authorization server, as a String.</dd>
							
								<dd>A promise object.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="getResourceScope"> </a>
					
					<div class="method">
						getResourceScope
					</div>
					
					<div class="fixedFont">
					
					
					<b>getResourceScope</b>(responseHeaders)
					
					</div>
					<div class="detailedDescription">
						Returns the scope of the protected resource for the provided response headers.<br/>
Note: Call this method only for response headers for which {@link #isAuthorizationRequired(int, Map)}
returns {@code true}, indicating that the resource is protected.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{String}</span>  
								<span class="parameters">responseHeaders</span>
								
								 
								 - Mandatory. A String representation of the response headers separated by CRLF, as returned from XMLHttpRequest.getAllResponseHeaders().
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The protecting scope of the target resource, as returned in the {@code WWW-Authenticate} HTTP response header.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="isAuthorizationRequired"> </a>
					
					<div class="method">
						isAuthorizationRequired
					</div>
					
					<div class="fixedFont">
					
					
					<b>isAuthorizationRequired</b>(responseStatus, responseHeaders)
					
					</div>
					<div class="detailedDescription">
						Checks whether the provided response status and headers represent a protected resource that requires authorization.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{Integer}</span>  
								<span class="parameters">responseStatus</span>
								
								 
								 - Mandatory. Specifies the response status code.
								
							</dd>
							
							<dd>
								<span class="light fixedFont">{String}</span>  
								<span class="parameters">responseHeaders</span>
								
								 
								 - Mandatory. A String representation of the response headers separated by CRLF, as returned from XMLHttpRequest.getAllResponseHeaders().
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>A boolean value, indicating whether authorization is required (<code>true</code>), or not (<code>false</code>).</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="login"> </a>
					
					<div class="method">
						login
					</div>
					
					<div class="fixedFont">
					
					
					<b>login</b>(securityCheck, credentials)
					
					</div>
					<div class="detailedDescription">
						Logs into the specified security check.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{String}</span>  
								<span class="parameters">securityCheck</span>
								
								 
								 - Mandatory. Name of the security check to log into.
								
							</dd>
							
							<dd>
								<span class="light fixedFont">{Object}</span>  
								<span class="parameters">credentials</span>
								
								 
								 - Mandatory. Credentials for logging into the specified security check.
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>A promise object that can be used to login asynchronously.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="logout"> </a>
					
					<div class="method">
						logout
					</div>
					
					<div class="fixedFont">
					
					
					<b>logout</b>(securityCheck)
					
					</div>
					<div class="detailedDescription">
						Logs out of the specified security check.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{String}</span>  
								<span class="parameters">securityCheck</span>
								
								 
								 - Mandatory. Name of the security check to log out of.
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>A promise object that can be used to logout asynchronously.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="obtainAccessToken"> </a>
					
					<div class="method">
						obtainAccessToken
					</div>
					
					<div class="fixedFont">
					
					
					<b>obtainAccessToken</b>(scope)
					
					</div>
					<div class="detailedDescription">
						Obtains an access token for the specified resource scope from the MobileFirst authorization server.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{String}</span>  
								<span class="parameters">scope</span>
								
								 
								 - Optional. Scope for which to obtain the access token.
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>A promise object that can be used to receive the access token asynchronously.
  The access token is sent as an object with the following properties:
  	scope - the scope which the access token was obtained for.
		value - the access token value.
		asAuthorizationRequestHeaderField - the access token value required for an authorization header.
		asFormEncodedBodyParameter - the access token value required for the HTTP-request entity body.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
							<dl class="detailList">
							<dt class="heading">Example:</dt>
											
								<dd></dd>
								<dd><pre class="code"><code class="example" data-language="javascript">   
WLAuthorizationManager.obtainAccessToken(scope)
.then (
  function(accessToken) {
	   // success flow with the access token
  },
  function(error) {
    // failure flow
  }
);</code></pre></dd>
							
							</dl>
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="setAuthorizationServerUrl"> </a>
					
					<div class="method">
						setAuthorizationServerUrl
					</div>
					
					<div class="fixedFont">
					
					
					<b>setAuthorizationServerUrl</b>(url)
					
					</div>
					<div class="detailedDescription">
						Sets the URL of the authorization server.
When this method is not called, the MobileFirst Server URL is used.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{String}</span>  
								<span class="parameters">url</span>
								
								 
								 - Mandatory. URL of the authorization server to set.
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>A promise object.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!-- 
						 
							<dl class="detailList">
								<dt class="heading">JavaScript File:</dt>
									<dd>							
									wlauthorizationmanager.js
									</dd>
							</dl>
						
						 -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					
				
			
			
<!-- ============================== event details ========================= -->		
			
			
		
		<!-- ============================== footer ================================= -->	
		<hr />
		<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
		<div class="fineprint" style="clear:both">
			&copy; Copyright IBM Corp. 2011, 2016.
		</div>
	</body>
</html>
