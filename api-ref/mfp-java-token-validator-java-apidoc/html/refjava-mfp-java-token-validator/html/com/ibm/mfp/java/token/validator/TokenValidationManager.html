<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0 - Jan 2014) on Wed Sep 21 18:10:35 IDT 2016 -->
<title>TokenValidationManager (MobileFirst Java Token Validator API)</title>
<meta name="date" content="2016-09-21">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TokenValidationManager (MobileFirst Java Token Validator API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar_top">
<!--   -->
</a>
<div class="skip"><a href="#skip-navbar_top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../com/ibm/mfp/java/token/validator/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenValidationManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenIntrospectionData.html" title="class in com.ibm.mfp.java.token.validator"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationResult.html" title="class in com.ibm.mfp.java.token.validator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/ibm/mfp/java/token/validator/TokenValidationManager.html" target="_blank">Frames</a></li>

</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="TokenValidationManager" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">com.ibm.mfp.java.token.validator</div>
<h2 title="Class TokenValidationManager" class="title" id="Header1">Class TokenValidationManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.ibm.mfp.java.token.validator.TokenValidationManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TokenValidationManager</span>
extends java.lang.Object</pre>
<div class="block">Implements TokenValidationManager
 Validates authorization headers (Access Tokens) against the AZ Server's introspection service.
 Created by Ore Poran on 11/18/15.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationManager.html#INVALID_TOKEN_ERROR">INVALID_TOKEN_ERROR</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationManager.html#TokenValidationManager(java.net.URI, java.lang.String, java.lang.String)">TokenValidationManager</a></strong>(java.net.URI&nbsp;authorizationURI,
                      java.lang.String&nbsp;clientId,
                      java.lang.String&nbsp;clientSecret)</code>
<div class="block">Constructs a new TokenValidationManager</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationManager.html#TokenValidationManager(java.net.URI, java.lang.String, java.lang.String, long)">TokenValidationManager</a></strong>(java.net.URI&nbsp;authorizationURI,
                      java.lang.String&nbsp;clientId,
                      java.lang.String&nbsp;clientSecret,
                      long&nbsp;cacheSize)</code>
<div class="block">Constructs a new TokenValidationManager</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/ibm/mfp/java/token/validator/TokenIntrospectionData.html" title="class in com.ibm.mfp.java.token.validator">TokenIntrospectionData</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationManager.html#makeIntrospectionRequest(java.lang.String)">makeIntrospectionRequest</a></strong>(java.lang.String&nbsp;authorizationHeader)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationManager.html#obtainAccessToken(java.lang.String)">obtainAccessToken</a></strong>(java.lang.String&nbsp;scope)</code>
<div class="block">Obtains an access token from the Authorization Server's token endpoint.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationResult.html" title="class in com.ibm.mfp.java.token.validator">TokenValidationResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationManager.html#validate(java.lang.String)">validate</a></strong>(java.lang.String&nbsp;authorizationHeader)</code>
<div class="block">Validates and returns the Introspection Data of the specified authorization header via the Introspection Endpoint of the AZ server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationResult.html" title="class in com.ibm.mfp.java.token.validator">TokenValidationResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationManager.html#validate(java.lang.String, java.lang.String)">validate</a></strong>(java.lang.String&nbsp;authorizationHeader,
        java.lang.String&nbsp;expectedScope)</code>
<div class="block">Validates and returns the Introspection Data of the specified authorization header via the Introspection Endpoint of the AZ server</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INVALID_TOKEN_ERROR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INVALID_TOKEN_ERROR</h4>
<pre>public static final&nbsp;java.lang.String INVALID_TOKEN_ERROR</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#com.ibm.mfp.java.token.validator.TokenValidationManager.INVALID_TOKEN_ERROR">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TokenValidationManager(java.net.URI, java.lang.String, java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TokenValidationManager</h4>
<pre>public&nbsp;TokenValidationManager(java.net.URI&nbsp;authorizationURI,
                      java.lang.String&nbsp;clientId,
                      java.lang.String&nbsp;clientSecret,
                      long&nbsp;cacheSize)
                       throws TokenValidationException</pre>
<div class="block">Constructs a new TokenValidationManager</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>authorizationURI</code> - The URI of the Authorization Server for example http://localhost:<port_number>/mfp/api</dd><dd><code>clientId</code> - , The confidential-client clientId of the resource</dd><dd><code>clientSecret</code> - , The confidential-client secret of the resource</dd><dd><code>cacheSize</code> - , the size of the cached access tokens mapping (default 10000)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenValidationException</code></dd></dl>
</li>
</ul>
<a name="TokenValidationManager(java.net.URI, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TokenValidationManager</h4>
<pre>public&nbsp;TokenValidationManager(java.net.URI&nbsp;authorizationURI,
                      java.lang.String&nbsp;clientId,
                      java.lang.String&nbsp;clientSecret)
                       throws TokenValidationException</pre>
<div class="block">Constructs a new TokenValidationManager</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>authorizationURI</code> - The URI of the Authorization Server for example http://localhost:<port_number>/mfp/api</dd><dd><code>clientId</code> - , The confidential-client clientId of the resource</dd><dd><code>clientSecret</code> - , The confidential-client secret of the resource</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenValidationException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="validate(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>public&nbsp;<a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationResult.html" title="class in com.ibm.mfp.java.token.validator">TokenValidationResult</a>&nbsp;validate(java.lang.String&nbsp;authorizationHeader,
                             java.lang.String&nbsp;expectedScope)
                               throws TokenValidationException</pre>
<div class="block">Validates and returns the Introspection Data of the specified authorization header via the Introspection Endpoint of the AZ server</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>authorizationHeader</code> - the authorization header to validate</dd><dd><code>expectedScope</code> - the scope to validate this authorization header with</dd>
<dt><span class="strong">Returns:</span></dt><dd>TokenValidationResult object, with the authenticationError and the IntrospectionData</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenValidationException</code> - in the case of an error connecting to the AZ Server</dd></dl>
</li>
</ul>
<a name="validate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>public&nbsp;<a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationResult.html" title="class in com.ibm.mfp.java.token.validator">TokenValidationResult</a>&nbsp;validate(java.lang.String&nbsp;authorizationHeader)
                               throws TokenValidationException</pre>
<div class="block">Validates and returns the Introspection Data of the specified authorization header via the Introspection Endpoint of the AZ server</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>authorizationHeader</code> - the authorization header to validate</dd>
<dt><span class="strong">Returns:</span></dt><dd>TokenValidationResult object, with the authenticationError and the IntrospectionData</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenValidationException</code> - in the case of an error connecting to the AZ Server</dd></dl>
</li>
</ul>
<a name="obtainAccessToken(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>obtainAccessToken</h4>
<pre>public&nbsp;java.util.Map&nbsp;obtainAccessToken(java.lang.String&nbsp;scope)
                                throws TokenValidationException</pre>
<div class="block">Obtains an access token from the Authorization Server's token endpoint.
 The Confidential Client credentials passed to the constructor are used to obtain the token
 If these credentials don't exist or are not allowed to obtain the given scope, an error is thrown
 Otherwise the access token map is returned</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>scope</code> - the scope to obtain an access token to</dd>
<dt><span class="strong">Returns:</span></dt><dd>a Map holding the access token according to OAuth 2.0 Spec  <a href="https://tools.ietf.org/html/rfc6749#section-4.1.4">RFC6749</a></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>TokenValidationException</code> - if unable to obtain token, its possible this error is thrown if the confidential client of this manager is not allowed to obtain this scope</dd></dl>
</li>
</ul>
<a name="makeIntrospectionRequest(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>makeIntrospectionRequest</h4>
<pre>protected&nbsp;<a href="../../../../../../com/ibm/mfp/java/token/validator/TokenIntrospectionData.html" title="class in com.ibm.mfp.java.token.validator">TokenIntrospectionData</a>&nbsp;makeIntrospectionRequest(java.lang.String&nbsp;authorizationHeader)
                                                   throws TokenValidationException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>TokenValidationException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a>
<div class="skip"><a href="#skip-navbar_bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../com/ibm/mfp/java/token/validator/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenValidationManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenIntrospectionData.html" title="class in com.ibm.mfp.java.token.validator"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../com/ibm/mfp/java/token/validator/TokenValidationResult.html" title="class in com.ibm.mfp.java.token.validator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/ibm/mfp/java/token/validator/TokenValidationManager.html" target="_blank">Frames</a></li>

</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small><br/><i>&copy; Copyright IBM Corp. 2006, 2015. All Rights Reserved.</i></small></p>
</body>
</html>
